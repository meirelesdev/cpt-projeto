<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=7">
    <meta name="description" content="Pagina de exercicios desenvolvida na comunidade codigopratodos.com">
</head>
<body>


   <h1>Autocarros MEIRELES</h1>
<p>
    Temos os <strong>melhores carros</strong> com os <strong>melhores preços</strong>! <em>Venha conferir!</em>
</p>
<img src="imgs/carro01.jpg" align="left" height="200" alt="">

<p>Entre em contato conosco através do formulario abaixo:</p>
<form action="" id="contato">
    <label for="nome">Nome Completo:</label>
    <input type="text" id="nome" name="nomeCompleto" placeholder="Nome Completo..." required>
    <br>
    <label for="email">E-mail:</label>
    <input type="email" id="email" required name="email" placeholder="Digite seu e-mail...">
    <br>
    <label for="phone">Telefone:</label>
    <input type="phone" id="phone" required name="telefone" placeholder="Fone...">
    <br>
    <label for="msg">Mensagem:</label>
    <textarea name="mensagem" id="msg" required cols="30" rows="10"></textarea><br>
    <button type="submit">Enviar</button>
</form>

    <script>
        let formContato = document.getElementById('contato')

        function enviarContato(e){
            e.preventDefault()
            let dadosFormContato = new FormData(formContato)
            let contato = {
                nomeCompleto: dadosFormContato.get('nomeCompleto'),
                email: dadosFormContato.get('email'),
                telefone: dadosFormContato.get('telefone'),
                mensagem: dadosFormContato.get('mensagem'),
                dataHora: Date.now()
            }
                let msg = `Ei, ${contato.nomeCompleto}, Sua mensagem foi enviada com sucesso, Por Favor, Aguarde nosso retorno!`
            
                salvarContato(contato)

                alert(msg)
            
        }

        formContato.addEventListener("submit", enviarContato)


        function salvarContato(contato) {

            let contatoJSON = JSON.stringify(contato)
            
            localStorage.setItem("contatos", contatoJSON)

        }
    </script>
</body>
</html>